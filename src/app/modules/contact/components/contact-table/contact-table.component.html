
<div class="grid">
  <div class="col-12">
    <form [formGroup]="formGetContactId" (ngSubmit)="handleContactById(findContactById)">
    <p-card styleClass="shadow-3 m-5 text-indigo-800" header="Pesquisa">
      <input pInputText
             placeholder="ID Contato"
             formControlName="idContato"
             style="margin-right: 5px;"
             pTooltip="Insira o id do contato"
             tooltipPosition="top" />

      <button type="submit"
              pButton
              pRipple
              label="Pesquisa">
      </button>
      <p-card styleClass="shadow-3 m-5 text-indigo-800" header="Contatos">
        <p-table #contactTable [value]="contacts" [rows]="10" [paginator]="true" [responsive]="true"
          [globalFilterFields]="['nome, email']" [tableStyle]="{'min-with': '75rem'}" [(selection)]="contactSelected"
          [rowHover]="true" dataKey="id"
          currentPageReportTemplate="Mostrando {first} de {last} de {totalRecords} contacts"
          [showCurrentPageReport]="true">
          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="nome">
                <div class="flex justify-content-between align-items-center">
                  <div class="flex justify-content-between align-items-center">
                    Nome
                  </div>
                </div>
                <div class="flex justify-content-between align-items-center">
                  <p-sortIcon field="nome"></p-sortIcon>
                  <p-columnFilter type="text" field="nome" display="menu" matchMode="contains" [showMatchModes]="false"
                    [showOperator]="false" [showAddButton]="false">
                  </p-columnFilter>
                </div>
              </th>
              <th pSortableColumn="email">
                <div class="flex justify-content-between align-items-center">
                  <div class="flex justify-content-between align-items-center">
                    Email
                  </div>
                  <div class="flex justify-content-between align-items-center">
                    <p-sortIcon field="email"></p-sortIcon>
                    <p-columnFilter type="text" field="email" display="menu" matchMode="contains"
                      [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
                    </p-columnFilter>
                  </div>
                </div>
              </th>
              <th pSortableColumn="telefone">
                <div class="flex justify-content-between align-items-center">
                  <div class="flex justify-content-between align-items-center">
                    Telefone
                  </div>
                  <div class="flex justify-content-between align-items-center">
                    <p-sortIcon field="telefone"></p-sortIcon>
                    <p-columnFilter type="text" field="telefone" display="menu" matchMode="contains" [showMatchModes]="false"
                      [showOperator]="false" [showAddButton]="false">
                    </p-columnFilter>
                  </div>
                </div>
              </th>
              <th pSortableColumn="foto">
                <div class="flex justify-content-between align-items-center">
                  <div class="flex justify-content-between align-items-center">
                    Foto
                  </div>
                  <div class="flex justify-content-between align-items-center">
                    <p-sortIcon field="foto"></p-sortIcon>
                    <p-columnFilter type="text" field="foto" display="menu" matchMode="contains"
                      [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
                    </p-columnFilter>
                  </div>
                </div>
              </th>
              <th pSortableColumn="dataCadastro">
                <div class="flex justify-content-between align-items-center">
                  <div class="flex justify-content-between align-items-center">
                    Data
                  </div>
                  <div class="flex justify-content-between align-items-center">
                    <p-sortIcon field="dataCadastro"></p-sortIcon>
                    <p-columnFilter type="text" field="dataCadastro" display="menu" matchMode="contains"
                      [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
                    </p-columnFilter>
                  </div>
                </div>
              </th>
              <th>
                <div class="flex justify-content-center">
                  <p-button styleClass="p-button-info" icon="pi pi-plus" label="Adicionar" pTooltip="Adicionar contato"
                    tooltipPosition="top" (onClick)="handleContactEvent(addContactEvent)">
                  </p-button>
                </div>
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-contact>
            <tr>
              <td>{{contact?.nome}}</td>
              <td>{{contact?.email}}</td>
              <td>{{contact?.telefone}}</td>
              <td><img src="{{contact.foto}}" style="max-height: 50px;"/></td>
              <td>{{contact?.dataCadastro}}</td>

              <td>
                <div class="flex justify-content-center gap-3 align-content-center">
                  <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-warning"
                    pTooltip="Editar contato" tooltipPosition="top"
                    (click)="handleContactEvent(editContactEvent, contact?.id)">
                  </button>
                  <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-danger"
                    pTooltip="Remover contato" tooltipPosition="top"
                    (click)="handleDeleteContact(contact?.id, contact?.name)">
                  </button>
                </div>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </p-card>
  </p-card>
</form>
  </div>
</div>
